{
  dataload.DataSource = Getinventorydata();
}

        private DataTable Getinventorydata()
        {
            DataTable dtinventory = new DataTable();
            string constring = ConfigurationManager.connectionString["dbx"].connectionString;
            using (MySqlConnection con = new MySqlConnection(connString))
            {
                using (MySqlCommand  cmd = new  MySqlCommand("select * from inventory_simple.inventory_table", con))
                {
                    con.Open();
                    MySqlDataReader reader = cmd.ExecuteReader();
                    dtinventory.Load(reader);
                }
            }
        }



            string connectionString = "datasource=localhost;port=3306;username=root;password="; //Set your MySQL connection string here.
            string query = "select * from inventory_simple.inventory_table"; // set query to fetch data "Select * from  tabelname"; 
            using (MySqlConnection conn = new MySqlConnection(connectionString))//using (MySqlConnection conn = new MySqlConnection(connStr))
            {
                using (MySqlDataAdapter adapter = new MySqlDataAdapter(query, conn))
                {
                    DataSet ds = new DataSet();
                    adapter.Fill(ds);
                    dataload.DataSource = ds.Tables[0];
                }
            }






public string GetColumnData(ValueType valueType, string tableName, string col, string colTwo, string equalsVal, bool compare)
    {
        MySqlConnection connection = null;
        MySqlDataReader dataReader = null;
        string colData = "";
        try
        {
            string query = "";
            if (compare)
                query = "SELECT `" + col + "` FROM `" + tableName + "` WHERE `" + colTwo + "`='" + equalsVal + "';";
            else
                query = "SELECT `" + col + "` FROM `" + tableName + "`";
            using (connection = new MySqlConnection(Hash.RunDecryption()))
            {
                using (MySqlCommand command = new MySqlCommand(query, connection))
                {
                    connection.Open();
                    command.CommandText = query;
                    using (dataReader = command.ExecuteReader())
                    {
                        while (dataReader.Read())
                        {
                            switch (valueType)
                            {
                                case ValueType.VALUETYPE_STRING:
                                    colData = dataReader.GetString(0);
                                    break;

                                case ValueType.VALUETYPE_INT16:
                                    colData = dataReader.GetInt16(0).ToString();
                                    break;

                                case ValueType.VALUETYPE_INT32:
                                    colData = dataReader.GetInt32(0).ToString();
                                    break;

                                case ValueType.VALUETYPE_INT64:
                                    colData = dataReader.GetInt64(0).ToString();
                                    break;
                            }
                        }

                        if (dataReader.NextResult())
                        {
                            colData = "";
                            while (dataReader.Read())
                            {
                                switch (valueType)
                                {
                                    case ValueType.VALUETYPE_STRING:
                                        colData = dataReader.GetString(0);
                                        break;

                                    case ValueType.VALUETYPE_INT16:
                                        colData = dataReader.GetInt16(0).ToString();
                                        break;

                                    case ValueType.VALUETYPE_INT32:
                                        colData = dataReader.GetInt32(0).ToString();
                                        break;

                                    case ValueType.VALUETYPE_INT64:
                                        colData = dataReader.GetInt64(0).ToString();
                                        break;
                                }
                            }
                        }
                    }
                }
            }
        }
        catch
        {
            System.Windows.Forms.MessageBox.Show("Failed to retrieve data!", "Error!", System.Windows.Forms.MessageBoxButtons.OK, System.Windows.Forms.MessageBoxIcon.Error);
            dataReader.Close();
            CloseConnection(connection);
        }
        finally
        {
            dataReader.Close();
            CloseConnection(connection);
        }
        return colData;
    }


////auto increment number(working)

        static int productcode = 100;
        string code;
        private void Genarate_productcode()
        {
            //billno = billno + 1;
            //textBox1.Text = billno.ToString();
            productcode = productcode + 1;
            product_code.Text = productcode.ToString();
        }
/////more (not working)

            public string str; 

            int Num1 = Convert.ToInt32(product_code.Text.Substring(4, 1));
            int Num2 = Convert.ToInt32(product_code.Text.Substring(3, 2));
            int Num3 = Convert.ToInt32(product_code.Text.Substring(2, 3));
            if (Num1 < 9)
            {
                int Num = Num1 + 1;
                str = str.Substring(0, 4) + Num;
                product_code.Text = str;
            }
            else if (Num2 < 99)
            {
                int Num = Num2 + 1;
                str = str.Substring(0, 3) + Num;
                product_code.Text = str;
            }
            else if (Num3 < 999)
            {
                int Num = Num3 + 1;
                str = str.Substring(0, 2) + Num;
                product_code.Text = str;
            }
////more working code 
        static string IncrementID(string startValue)
        {
            char letter = startValue[0];
            int len = startValue.Length - 1;
            int number = int.Parse(startValue.Substring(1));
            number++;
            if (number >= Math.Pow(10, len)) number = 1; // start again at 1
            return String.Format("{0}{1:D" + len.ToString() + "}", letter, number);
        } 
        private void Genarate_productcode()
        {
            product_code.Text = IncrementID("C00010"); // C00011 PCI0001
        } 

////update code
 try
            {
                //string connectionString = "datasource=localhost;port=3306;username=root;password=";
                string connectionString = "datasource=localhost;port=3306;username=root;password=";
                //This is my update query in which i am taking input from the user through windows forms and update the record.  
                string updateQuery = "update inventory_simple.inventory_table set product_code='" + this.product_code.Text + "',product_name='" + this.productname.Text + "',entry_date='" + this.entry_date.Text + "',price='" + this.price.Text + "';";
                //This is  MySqlConnection here i have created the object and pass my connection string.  
                MySqlConnection Conn = new MySqlConnection(connectionString);
                MySqlCommand command = new MySqlCommand(updateQuery, connection);
                //MySqlCommand MyCommand2 = new MySqlCommand(query, Conn);
                MySqlDataReader MyReader2;
                Conn.Open();
                MyReader2 = command.ExecuteReader();
                MessageBox.Show("Data Have Been Updated");
                loaddata();
                clear();
                while (MyReader2.Read())
                {
                }
                Conn.Close();//Connection closed here  
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            } 